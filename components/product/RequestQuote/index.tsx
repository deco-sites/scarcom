import FormRequestQuote from "./FormRequestQuote.tsx";
import { createPortal } from "preact/compat";
import { useState } from "preact/hooks";

function RequestQuote({ productName }: { productName: string }) {
  const [stateModal, setStateModal] = useState(false);

  return (
    <>
      <button
        onClick={() => setStateModal(true)}
        class="flex flex-row items-center px-[16px] py-[12px] gap-[8px] w-auto h-[48px] border-2 border-[#015388] drop-shadow-[0_1px_2px_rgba(0,0,0,0.05)] rounded-full"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
        >
          <path
            d="M10.0001 1.775H10C8.37325 1.775 6.78303 2.25739 5.43044 3.16116C4.07784 4.06494 3.02363 5.34951 2.40109 6.85243C1.77856 8.35535 1.61568 10.0091 1.93304 11.6046C2.25041 13.2001 3.03376 14.6657 4.18405 15.816C5.33434 16.9662 6.79989 17.7496 8.39539 18.067C9.99088 18.3843 11.6447 18.2214 13.1476 17.5989C14.6505 16.9764 15.9351 15.9222 16.8388 14.5696C17.7426 13.217 18.225 11.6268 18.225 10V9.99989C18.2227 7.81922 17.3554 5.72853 15.8134 4.18656C14.2715 2.64459 12.1808 1.7773 10.0001 1.775ZM9.99989 16.775C8.65996 16.775 7.35013 16.3776 6.23602 15.6332C5.12187 14.8888 4.2535 13.8307 3.74072 12.5927C3.22794 11.3547 3.09377 9.99248 3.35518 8.67826C3.6166 7.36404 4.26185 6.15685 5.20936 5.20935C6.15686 4.26185 7.36405 3.61659 8.67827 3.35518C9.99249 3.09376 11.3547 3.22793 12.5927 3.74072C13.8307 4.2535 14.8888 5.12187 15.6332 6.23601C16.3776 7.35012 16.775 8.65996 16.775 9.99989C16.773 11.7961 16.0585 13.5182 14.7884 14.7884C13.5182 16.0585 11.7961 16.773 9.99989 16.775ZM12.555 13.18C12.984 12.751 13.225 12.1692 13.225 11.5625C13.225 10.9558 12.984 10.374 12.555 9.94499C12.126 9.516 11.5442 9.275 10.9375 9.275H9.0625C8.84038 9.275 8.62736 9.18676 8.4703 9.0297C8.31324 8.87264 8.225 8.65962 8.225 8.4375C8.225 8.21538 8.31324 8.00236 8.4703 7.8453C8.62736 7.68824 8.84038 7.6 9.0625 7.6H11.875C12.0673 7.6 12.2517 7.52362 12.3877 7.38765C12.5236 7.25169 12.6 7.06728 12.6 6.875C12.6 6.68272 12.5236 6.49831 12.3877 6.36235C12.2517 6.22638 12.0673 6.15 11.875 6.15H10.725V5.625C10.725 5.43272 10.6486 5.24831 10.5127 5.11235C10.3767 4.97638 10.1923 4.9 10 4.9C9.80772 4.9 9.62331 4.97638 9.48735 5.11235C9.35139 5.24831 9.275 5.43272 9.275 5.625V6.15H9.0625C8.45582 6.15 7.87399 6.391 7.445 6.81999C7.01601 7.24898 6.775 7.83082 6.775 8.4375C6.775 9.04418 7.01601 9.62602 7.445 10.055C7.87399 10.484 8.45582 10.725 9.0625 10.725H10.9375C11.1596 10.725 11.3726 10.8132 11.5297 10.9703C11.6868 11.1274 11.775 11.3404 11.775 11.5625C11.775 11.7846 11.6868 11.9976 11.5297 12.1547C11.3726 12.3118 11.1596 12.4 10.9375 12.4H8.125C7.93272 12.4 7.74831 12.4764 7.61235 12.6123C7.47639 12.7483 7.4 12.9327 7.4 13.125C7.4 13.3173 7.47639 13.5017 7.61235 13.6377C7.74831 13.7736 7.93272 13.85 8.125 13.85H9.275V14.375C9.275 14.5673 9.35139 14.7517 9.48735 14.8877C9.62331 15.0236 9.80772 15.1 10 15.1C10.1923 15.1 10.3767 15.0236 10.5127 14.8877C10.6486 14.7517 10.725 14.5673 10.725 14.375V13.85H10.9375C11.5442 13.85 12.126 13.609 12.555 13.18Z"
            fill="#015388"
            stroke="#015388"
            stroke-width="0.2"
          />
        </svg>
        <span class="not-italic font-bold text-[12px] leading-[16px] text-center uppercase text-[#015388]">
          solicitar or√ßamento
        </span>
      </button>
      {stateModal &&
        createPortal(
          <FormRequestQuote
            productName={productName}
            stateModal={setStateModal}
          />,
          document.body,
        )}
    </>
  );
}

export default RequestQuote;
